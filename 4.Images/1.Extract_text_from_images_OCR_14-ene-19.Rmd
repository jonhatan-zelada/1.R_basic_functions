---
title: "R Notebook"
output: html_notebook
---

```{r}

if (!require("tesseract")) {
  install.packages("tesseract", repos="http://cran.rstudio.com/") 
  library(tesseract)
}

if (!require("pdftools")) {
  install.packages("pdftools", repos="http://cran.rstudio.com/") 
  library(pdftools)
}

Sys.getenv("R_ARCH")

install.packages("rJava")
library(rJava) # load and attach 'rJava' now

install.packages("devtools")
devtools::install_github("ropensci/tabulizer", args="--no-multiarch")

library(tabulizer)

library(dplyr)
```

#Read text in spanish from pdf
https://ropensci.org/technotes/2017/08/17/tesseract-16/
```{r}
#1.Import a library
tesseract_download("spa")
```


only text from pdf
===============
#2. Convert from "pdf" to "png"
```{r}

pdf_convert("C:/R-Source/4.pdf/corte.pdf", 
                       pages = 2, 
                       dpi = 600, 
                       filenames = "page1.png")
```

#3.Extract text from one page
```{r}
text <- ocr("page1.png",engine = tesseract("spa"))
cat(text)
```

only text from png
===============
```{r}

```




Extract text from one great number of pages
=========================================
```{r}



```


```{r}
img_file <- pdftools::pdf_convert("R-intro.pdf", format = 'tiff', pages = 1, dpi = 400)
# Extract text from png image
text <- ocr(img_file)
unlink(img_file)
cat(text)


```

Extract table from pdf (library(tabulizer))
=========================
```{r}
#set path to file
file_pdf <- "C:/R-Source/4.pdf/Cotización.pdf"

area <- locate_areas(file_pdf, pages = 2)
area
[[1]]
      top      left    bottom     right 
442.20975  30.50972 549.83752 592.01857
mortgagerates <- extract_tables(file, pages = 3, area = area, guess = FALSE)


out <- extract_tables(file_pdf), pages = 2)
```


